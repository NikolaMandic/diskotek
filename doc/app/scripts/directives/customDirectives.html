<!DOCTYPE html><html lang="en"><head><title>app/scripts/directives/customDirectives</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../"><meta name="groc-document-path" content="app/scripts/directives/customDirectives"><meta name="groc-project-path" content="app/scripts/directives/customDirectives.js"><link rel="stylesheet" type="text/css" media="all" href="../../../assets/style.css"><script type="text/javascript" src="../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">app/scripts/directives/customDirectives.js</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper"><span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;ldApp&#39;</span><span class="p">).</span><span class="nx">directive</span><span class="p">(</span><span class="s1">&#39;draggable&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">ddo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">link</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">scope</span><span class="p">,</span><span class="nx">iElement</span><span class="p">,</span><span class="nx">iAttrs</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="nx">iElement</span><span class="p">).</span><span class="nx">draggable</span><span class="p">({</span>
        <span class="nx">snap</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
        <span class="nx">grid</span><span class="o">:</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span>
      <span class="p">});</span>

    <span class="p">}</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">ddo</span><span class="p">;</span>
<span class="p">});</span>
<span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;ldApp&#39;</span><span class="p">).</span><span class="nx">directive</span><span class="p">(</span><span class="s1">&#39;resizable&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">ddo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">link</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">scope</span><span class="p">,</span><span class="nx">iElement</span><span class="p">,</span><span class="nx">iAttrs</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="nx">iElement</span><span class="p">).</span><span class="nx">resizable</span><span class="p">({</span>
        
        <span class="nx">grid</span><span class="o">:</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span>
      <span class="p">});</span>

    <span class="p">}</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">ddo</span><span class="p">;</span>
<span class="p">});</span>
<span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;ldApp&#39;</span><span class="p">).</span><span class="nx">directive</span><span class="p">(</span><span class="s1">&#39;commandwind&#39;</span><span class="p">,</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">ddo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">scope</span><span class="o">:</span><span class="p">{},</span>
    <span class="nx">template</span><span class="o">:</span> <span class="s1">&#39;&lt;div &gt;&lt;div&gt;commandPanel&lt;/div&gt;&lt;div&gt;&lt;input type=&quot;text&quot; size=&quot;10&quot; ng-model=&quot;command&quot;&gt; &lt;a ng-click=&quot;sendCommand(command)&quot;&gt;sendCommand&lt;/a&gt;&amp;nbsp&lt;a ng-click=&quot;clone()&quot;&gt;new&lt;/a&gt;&amp;nbsp&lt;a ng-click=&quot;destroy()&quot;&gt;X&lt;/a&gt;&lt;/div&gt; &lt;div ng-repeat=&quot;thing in things&quot;&gt;{{thing}}&lt;/div&gt; &lt;/div&gt;&#39;</span><span class="p">,</span>
    <span class="nx">controller</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">dcOnt</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">$element</span><span class="p">,</span><span class="nx">$attrs</span><span class="p">,</span> <span class="nx">$transclude</span><span class="p">,</span><span class="nx">$rootScope</span><span class="p">,</span> <span class="nx">$compile</span><span class="p">,</span><span class="nx">Data</span><span class="p">,</span><span class="nx">$controller</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//var Data = $injector.get(&quot;Data&quot;);</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>dcOnt.$new=function(){};</p></div></div><div class="code"><div class="wrapper">      <span class="nx">$scope</span><span class="p">.</span><span class="nx">sendCommand</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">command</span><span class="p">){</span>
        <span class="nx">Data</span><span class="p">.</span><span class="nx">commandExecL</span><span class="p">(</span><span class="nx">command</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
          <span class="nx">$scope</span><span class="p">.</span><span class="nx">things</span><span class="o">=</span><span class="nx">Data</span><span class="p">.</span><span class="nx">sharedData</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
        <span class="p">});</span>
      <span class="p">}</span>
      <span class="nx">$scope</span><span class="p">.</span><span class="nx">clone</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="s1">&#39;&lt;div commandWind draggable resizable &gt; &lt;/div&gt;&#39;</span><span class="p">;</span>
        
          <span class="kd">var</span> <span class="nx">template</span> <span class="o">=</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">element</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>var elt= $element.parent().append(template);</p></div></div><div class="code"><div class="wrapper">        <span class="kd">var</span> <span class="nx">linkFn</span> <span class="o">=</span> <span class="nx">$compile</span><span class="p">(</span><span class="nx">template</span><span class="p">);</span>
        <span class="c1">//var nscope ={$n,$parent:$scope.$parent};</span>
        <span class="c1">//dcOnt(nscope,template,$compile,Data,$controller);</span>
        <span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nx">linkFn</span><span class="p">(</span><span class="nx">$rootScope</span><span class="p">.</span><span class="nx">$new</span><span class="p">()</span> <span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">clonedEl</span><span class="p">,</span><span class="nx">scope</span><span class="p">){</span>
          <span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">$element</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">append</span><span class="p">(</span><span class="nx">clonedEl</span><span class="p">);</span>

      <span class="nx">$</span><span class="p">(</span><span class="nx">clonedEl</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span>
        <span class="nx">width</span><span class="o">:</span><span class="s1">&#39;300px&#39;</span><span class="p">,</span>
        <span class="nx">height</span><span class="o">:</span><span class="s1">&#39;100px&#39;</span><span class="p">,</span>
        <span class="nx">color</span><span class="o">:</span><span class="s1">&#39;#ff0000&#39;</span><span class="p">,</span>
        <span class="nx">background</span><span class="o">:</span><span class="s2">&quot;rgba(00,00,24,0.2)&quot;</span><span class="p">,</span>
         <span class="nx">position</span><span class="o">:</span><span class="s2">&quot;absolute&quot;</span><span class="p">,</span>
      
      <span class="p">});</span>

        <span class="p">});</span>
        
        <span class="c1">//$scope.$apply();</span>
      
      <span class="p">};</span>
      <span class="nx">$scope</span><span class="p">.</span><span class="nx">destroy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">//$element.$destroy();</span>
        <span class="nx">$element</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
      <span class="p">};</span>

    <span class="p">},</span>
    <span class="nx">link</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">lf</span><span class="p">(</span><span class="nx">scope</span><span class="p">,</span><span class="nx">iElement</span><span class="p">,</span><span class="nx">iAttrs</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="nx">iElement</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span>
        <span class="nx">width</span><span class="o">:</span><span class="s1">&#39;300px&#39;</span><span class="p">,</span>
        <span class="nx">height</span><span class="o">:</span><span class="s1">&#39;100px&#39;</span><span class="p">,</span>
        <span class="nx">color</span><span class="o">:</span><span class="s1">&#39;#ff0000&#39;</span><span class="p">,</span>
        <span class="nx">position</span><span class="o">:</span><span class="s2">&quot;absolute&quot;</span><span class="p">,</span>
        <span class="nx">background</span><span class="o">:</span><span class="s2">&quot;rgba(00,00,24,0.02)&quot;</span><span class="p">,</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">ddo</span><span class="p">;</span>
<span class="p">});</span></div></div></div></div></body></html>